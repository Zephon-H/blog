<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
<meta name="referrer" content="no-referrer" />
<meta http-equiv="Content-Security-Policy" ontent="upgrade-insecure-requests">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.zephon.eu.org","root":"/blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="构建与依赖 构建过程 构造过程包含的主要环节：">
<meta property="og:type" content="article">
<meta property="og:title" content="Maven一览">
<meta property="og:url" content="http://www.zephon.eu.org/blog/2022/08/01/Maven%E4%B8%80%E8%A7%88/index.html">
<meta property="og:site_name" content="Zephon Blog">
<meta property="og:description" content="构建与依赖 构建过程 构造过程包含的主要环节：">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://image.zephon.ml/image.png">
<meta property="og:image" content="http://image.zephon.ml/1659247551144-455d6547-4b3d-4977-bd1f-0e103af1a3aa.png">
<meta property="og:image" content="http://image.zephon.ml/1659248328631-1032fbcf-cad4-440e-8475-2c697fceac95.png">
<meta property="og:image" content="http://image.zephon.ml/1659248912874-aaadfe5e-1ac9-4c4e-b255-28ab2d516183.png">
<meta property="og:image" content="http://image.zephon.ml/1659248465894-704654a0-f9d7-4b58-ad6e-91ccdf56210f.png">
<meta property="og:image" content="http://image.zephon.ml/1659248582440-dc071829-3201-483c-b144-7b672a051016.png">
<meta property="article:published_time" content="2022-08-01T02:35:22.000Z">
<meta property="article:modified_time" content="2023-07-20T08:32:51.098Z">
<meta property="article:author" content="Zephon">
<meta property="article:tag" content="Maven">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://image.zephon.ml/image.png">

<link rel="canonical" href="http://www.zephon.eu.org/blog/2022/08/01/Maven%E4%B8%80%E8%A7%88/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Maven一览 | Zephon Blog</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?697784f78fd83128cc519aedf69e3017";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband">
	<a target="_blank" rel="noopener" href="https://github.com/Zephon-H" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
	</div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Zephon Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-download">

    <a href="/blog/download/" rel="section"><i class="fa fa-download fa-fw"></i>下载</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zephon.eu.org/blog/2022/08/01/Maven%E4%B8%80%E8%A7%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar1.gif">
      <meta itemprop="name" content="Zephon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zephon Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Maven一览
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-08-01 10:35:22" itemprop="dateCreated datePublished" datetime="2022-08-01T10:35:22+08:00">2022-08-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-20 16:32:51" itemprop="dateModified" datetime="2023-07-20T16:32:51+08:00">2023-07-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/Maven/" itemprop="url" rel="index"><span itemprop="name">Maven</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>23k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>21 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="构建与依赖">构建与依赖</h1>
<h2 id="构建过程">构建过程</h2>
<p>构造过程包含的主要环节：</p>
<ul>
<li>清理：删除上一次构建的结果，为下一次构建做好准备</li>
<li>编译：Java源程序编译成*.class字节码文件</li>
<li>测试：运行提前准备的测试程序</li>
<li>报告：针对刚才的测试结果生成一个全面的信息</li>
<li>打包：
<ul>
<li>Java工程：jar包</li>
<li>Web工程：war包</li>
</ul></li>
<li>安装：把一个Maven工程经过打包操作生成的jar包或war包安装到Maven仓库</li>
<li>部署：将准备好的jar包或war包部署到服务器上运行
<ul>
<li>部署jar包：将一个jar包部署到Nexus私服服务器上</li>
<li>部署war包：借助相关Maven插件(如cargo)，将war包部署到Tomcat服务器上</li>
</ul></li>
</ul>
<h2 id="依赖管理">依赖管理</h2>
<p>依赖管理中要解决的具体问题：</p>
<ul>
<li>jar包的下载：使用Maven之后，jar包会从规范的远程仓库下载到本地</li>
<li>jar包之间的依赖：通过依赖的传递性自动完成</li>
<li>jar包之间的冲突：通过对依赖的配置进行调整，让某些jar包不会被导入</li>
</ul>
<h2 id="maven的工作机制">Maven的工作机制</h2>
<figure>
<img src="http://image.zephon.ml/image.png" alt="image" /><figcaption>image</figcaption>
</figure>
<h1 id="maven安装与配置">Maven安装与配置</h1>
<ol type="1">
<li>下载与安装，如手动安装最好安装到非中文无空格的目录中</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://maven.apache.org/">官网</a>下载或Idea中自带</p>
<ol start="2" type="1">
<li>配置，对应的是conf/settings.xml
<ol type="1">
<li><p>配置本地仓库存放位置，目录如果不存在则会由maven执行命令时自动创建 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>D:\JavaLib\.m2\repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>配置镜像仓库，配置使用阿里的镜像仓库，因为中央仓库在国外，访问速度太慢 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>配置Maven工程的基础JDK版本 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>jdk-1.8<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></table></figure></p></li>
</ol></li>
<li>配置环境变量
<ol type="1">
<li>配置MAVEN_HOME：指向bin目录的上一级</li>
<li>配置PATH：指向bin目录</li>
</ol></li>
</ol>
<h1 id="创建maven工程">创建Maven工程</h1>
<h2 id="maven中的坐标">Maven中的坐标</h2>
<p>Maven使用三个向量在Maven仓库中唯一定位到一个jar包</p>
<ul>
<li>groupId：公司或组织的Id</li>
<li>artifactId：一个项目或项目中的一个模板id</li>
<li>version：版本号</li>
</ul>
<p>三个向量的取值方式：</p>
<ul>
<li>groupId：公司或组织域名的倒序，通常也会加上项目名称
<ul>
<li>如：com.zephon.maven</li>
</ul></li>
<li>artifactId：模块的名称，将来作为Maven工程的工程名</li>
<li>version：模块的版本号，根据自己的需要设定
<ul>
<li>例如：SNAPSHOT表示快照版本，正在迭代过程中，不稳定的版本</li>
<li>例如：RELEASE表示正式版本</li>
</ul></li>
</ul>
<p>例： <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br></pre></td></tr></table></figure> 则其对应的位置就是：Maven本地仓库根目录.servlet-api\3.1.0.servlet-api-3.1.0.jar</p>
<h2 id="创建本地工作空间">创建本地工作空间</h2>
<ol type="1">
<li>创建本地工作空间(文件夹)</li>
<li>在本地工作空间目录下打开命令行</li>
<li>使用命令生成Maven工程：<strong>mvn archetype:generate</strong></li>
</ol>
<ul>
<li><strong>mvn</strong>：主命令</li>
<li><strong>archetype:generate</strong>：子命令
<ul>
<li><strong>archetype：</strong>插件</li>
<li><strong>generate：</strong>目标</li>
</ul></li>
</ul>
<p>然后根据提示选择或输入对应的内容即可</p>
<ol start="4" type="1">
<li>根据需要对Maven默认生成的工程中一些依赖版本进行调整 ## pom.xml解读</li>
</ol>
<p>pom的含义：POM：Project Object Model，项目对象模型。和POM类似的是：DOM(Document Object Model)，文档对象模型。它们都是模型化思想的具体体现。POM理念集中体现在Maven工程根目录下pom.xml这个配置文件中。</p>
<ul>
<li><project>：根标签，表示对当前工程进行配置、管理</li>
<li><modelVersion>：从Maven2开始固定是4.0.0，代表当前pom.xml所采用的标签结构</li>
<li><groupId>：坐标信息，表示公司或组织</li>
<li><artifactId>：坐标信息，表示项目下某个模块</li>
<li><version>：坐标信息，表示当前模块版本</li>
<li><packaging>：打包方式
<ul>
<li>jar：生成jar包，说明是一个Java工程</li>
<li>war：生成war包，说明是一个Web工程</li>
<li>pom：说明这个工程是用来管理其它工程的工程</li>
<li>maven-plugin：说明是Maven插件</li>
</ul></li>
<li><name>：当前工程名</li>
<li><url>任意地址</li>
<li><properties>：在Maven中定义属性值
<ul>
<li>&lt;project.build.sourceEncoding&gt;：在构建过程中读取源码时使用的字符集</li>
</ul></li>
<li><dependencies>：配置具体依赖信息，可以包含多个dependency子标签
<ul>
<li><dependency>：配置一个具体的依赖信息
<ul>
<li><groupId>：坐标信息，表示公司或组织</li>
<li><artifactId>：坐标信息，表示项目下某个模块</li>
<li><version>：坐标信息，表示当前模块版本</li>
<li><scope>：配置当前依赖的范围</li>
</ul></li>
</ul></li>
</ul>
<h2 id="maven约定的目录结构">Maven约定的目录结构</h2>
<ul>
<li>pro-maven
<ul>
<li>src：源码目录
<ul>
<li>main：主体程序目录
<ul>
<li>java：Java源代码
<ul>
<li>com：包目录</li>
</ul></li>
<li>resources：配置文件</li>
</ul></li>
<li>test：测试程序目录
<ul>
<li>java：Java源代码
<ul>
<li>com：包目录</li>
</ul></li>
</ul></li>
</ul></li>
<li>target：编译结果目录</li>
<li>pom.xml</li>
</ul></li>
</ul>
<p>目前开发领域的技术发展趋势就是：约定大于配置，配置大于编码</p>
<h1 id="执行maven的构建">执行Maven的构建</h1>
<ol type="1">
<li>要求</li>
</ol>
<p>运行Maven的构建相关命令时，必须进入到pom.xml所在目录，如果没有pom.xml所有的目录运行就会报错</p>
<ol start="2" type="1">
<li>清理：mvn clean：删除target目录</li>
<li>编译：
<ol type="1">
<li>mvn compile：主程序编译，结果存放在target/classes</li>
<li>mvn test-compile：测试程序编译，结果存放在target/test-classes</li>
</ol></li>
<li>测试：mvn test：测试，测试报告存放在target/surefire-reports</li>
<li>打包：mvn package：打包，存放在target</li>
<li>安装 ：mvn install：将打包结果安装到本地Maven仓库</li>
</ol>
<h1 id="使用maven创建web工程">使用Maven创建Web工程</h1>
<ol type="1">
<li>通过命令创建：mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-webapp -DarchetypeVersion=1.4</li>
<li>手动在main目录下创建java目录、resource目录等</li>
<li>配置依赖，如servlet-api.jar，此处推荐<a target="_blank" rel="noopener" href="https://mvnrepository.com/">网站</a>，然后选择指定版本对应的dependency复制到pom.xml中</li>
</ol>
<h1 id="自定义工程依赖">自定义工程依赖</h1>
<p>让之前定义的web工程依赖Java工程，最终Java工程会变成jar包放在Web工程的WEB-INF/lib目录下</p>
<ol type="1">
<li><p>在Java工程中执行打包、安装命令</p></li>
<li><p>在web工程的pom.xml中添加Java工程对应的dependency如： <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zephon.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>查看web工程所依赖的jar包列表</p>
<ul>
<li>mvn dependency:list --&gt;列表形式查看</li>
<li>mvn dependency:tree --&gt; 树形结构查看</li>
</ul></li>
</ol>
<h1 id="依赖的范围传递与排除">依赖的范围、传递与排除</h1>
<p>pom.xml中各个dependency有一个子标签是<scope> 可选值：<strong>compile/test/provided</strong>/system/runtime/import</p>
<ul>
<li>import：Maven是单继承的，如果不同体系的依赖信息封装在不同POM中了，没办法继承多个父工程但又需要时，就可以使用import
<ul>
<li>使用要求：打包类型必须是pom</li>
<li>必须放在dependencyManagement中</li>
</ul></li>
<li>system：引入本地系统但又不在仓库中的jar包，需要用<systemPath>指定路径，通常<strong>不建议使用</strong></li>
<li>runtime：专门用于编译时不需要、但运行时需要的jar包，比如：编译时我们根据接口调用方法，但实际运行时需要的是接口的实现类。</li>
</ul>
<h2 id="compile和test对比">compile和test对比</h2>
<table>
<thead>
<tr class="header">
<th>main目录(空间)</th>
<th>test目录(空间)</th>
<th>开发过程(时间)</th>
<th>部署到服务器(时间)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>compile</td>
<td>有效</td>
<td>有效</td>
<td>有效</td>
</tr>
<tr class="even">
<td>test</td>
<td>无效</td>
<td>有效</td>
<td>有效</td>
</tr>
</tbody>
</table>
<h2 id="compile和provided对比">compile和provided对比</h2>
<table>
<thead>
<tr class="header">
<th>main目录</th>
<th>test目录</th>
<th>开发过程</th>
<th>部署到服务器</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>compile</td>
<td>有效</td>
<td>有效</td>
<td>有效</td>
</tr>
<tr class="even">
<td>provided</td>
<td>有效</td>
<td>有效</td>
<td>有效</td>
</tr>
</tbody>
</table>
<h2 id="小结">小结</h2>
<p>compile：通常使用的第三方框架的jar包这样在项目实际运行时真正用到的jar包都是以compile范围进行依赖的，比如SSM框架 test：测试过程中使用的jar包，以test范围依赖，如Junit provided：在开发过程中需要用到的"服务器上的jar包"通常以provided范围依赖。如Servlet-api、jsp-api等。而这个范围的jar包之所以不参与部署、不放进war包，不是避免和服务器上已有的同类jar包产生冲突，同时减轻服务器的负担。</p>
<h2 id="可选依赖">可选依赖</h2>
<ul>
<li><optional>：取值为true/false
<ul>
<li>如果为true则表示该依赖可有可无</li>
</ul></li>
</ul>
<h2 id="依赖的传递性">依赖的传递性</h2>
<p>A依赖B，B依赖C，则在A没有配置对C的依赖的情况下，A里面能否直接用C就取决于B依赖C时使用的依赖范围</p>
<ul>
<li>B依赖C时使用compile范围：可以传递</li>
<li>B依赖C时使用test或provided范围：不能传递，所以需要这样的jar包时，就必须在需要的地方明确配置依赖才可以</li>
</ul>
<h2 id="依赖的排除">依赖的排除</h2>
<p>由于依赖的传递性，可能在依赖的过程中会存在jar包的冲突问题，这时就需要通过依赖的排除来阻断依赖的传递。 配置方式： <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zephon.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro-maven-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      &lt;!- 指定排除的依赖的坐标，不需要写version --&gt;</span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h1 id="依赖的继承">依赖的继承</h1>
<p>Maven工程之间，A工程继承B工程，本质上是A工程的pom.xml中的配置继承了B工程中的pom.xml配置 作用：在父工程中统一管理项目中的依赖信息，具体来说是管理依赖信息的版本 背景：</p>
<ul>
<li>对于一个大型项目进行模块拆分</li>
<li>一个project下面，创建多个module</li>
<li>每个module都需要配置自己的依赖信息</li>
</ul>
<p>需求：</p>
<ul>
<li>每个module中各自维护各自的依赖信息容易发生出入，不易统一管理</li>
<li>使用同一框架内的不同jar包，应该是同一个版本，所以整个项目中使用的框架版本需要统一</li>
<li>使用框架时所需要的jar包组合(或依赖信息组合)需要经过长期摸索和反复调试，最终确定一个可用组合</li>
</ul>
<p>基于这些，通过在父工程中为整个项目维护依赖信息的组合，既保证了整个项目使用规范、准确的jar包，又能将以往的经验沉淀下来，节约时间和精力</p>
<h2 id="操作">操作</h2>
<p>以Spring为例，使用Spring时要求所有Spring自己的jar包版本必须一致，为了能够对这些jar包版本进行统一管理，就要使用继承这个机制，将所有版本信息统一在父工程中进行很管理</p>
<ol type="1">
<li><p>创建父工程，然后对父工程修改它的打包方式为pom，只有打包方式为pom的Maven工程才能管理其它Maven工程，打包方式为pom的Maven工程不写业务代码，专门管理其它Maven的工程 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zephon.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>创建模块工程；进入parent工程的根目录，然后创建模块工程，例如pro1,pro2</p></li>
<li><p>查看parent工程的pom.xml，可以发现有新的变化，即加入了modules标签 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>pro1<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>pro2<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>查看子工程的pom.xml，也可以发现已经配置好了父工程信息，此时，如果子工程的groupId、version和父工程一样则可以省略 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zephon.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>在父工程中统一管理依赖信息，进入parent的pom.xml，添加<dependencyManagement>相关</p></li>
</ol>
<p>即使在父工程中配置了对依赖的管理，子工程中需要使用具体哪个依赖时还是需要明确配置 此时，对于已经在父工程中配置的依赖，子工程中配置的依赖引用时可以不写<version></p>
<ul>
<li>如果不写，则默认使用父工程中配置的<version></li>
<li>如果写了，则使用子工程配置的<version></li>
</ul>
<p>绝大部分情况下子工程还是遵从父工程统一管理的依赖 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="配置自定义属性优化">配置自定义属性优化</h2>
<ol type="1">
<li>在<properties>中定义属性</li>
<li>修改dependency中的version，通过${}引用之前定义的属性值 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="模块聚合">模块聚合</h1>
<p>好处：</p>
<ul>
<li>一键执行Maven命令：很多构建命令都可以在“总工程”中一键执行
<ul>
<li>以mvn install为例：Maven要求有父工程时先安装父工程；有依赖工程时，先安装被依赖的工程。自己考虑这些很麻烦，但工程聚合之后，在总工程上执行mvn install可以一键完成安装，而且会自动按照正确顺序执行</li>
</ul></li>
<li>配置聚合之后，各个模块工程在总工程中展示一个列表，让项目的各个模块一目了然</li>
</ul>
<p>配置： <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>pro1<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>pro2<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">module</span>&gt;</span>pro3<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure> # IDEA中使用Maven IDEA版本：IntelliJ IDEA 2022.1.4 (Ultimate Edition) ## 1. 创建父工程</p>
<ol type="1">
<li>File-&gt;New-&gt;Project</li>
<li>选择New Project，输入对应的信息，Create</li>
</ol>
<figure>
<img src="http://image.zephon.ml/1659247551144-455d6547-4b3d-4977-bd1f-0e103af1a3aa.png" alt="image.png" /><figcaption>image.png</figcaption>
</figure>
<h2 id="创建web子工程">2. 创建Web子工程</h2>
<ol type="1">
<li>右键parent-&gt;New-&gt;Module</li>
<li>输入对应的信息，选择Archetype为：org.apache.maven.archetypes:maven-archetype-webapp，点击create</li>
</ol>
<figure>
<img src="http://image.zephon.ml/1659248328631-1032fbcf-cad4-440e-8475-2c697fceac95.png" alt="image.png" /><figcaption>image.png</figcaption>
</figure>
<ol start="3" type="1">
<li>或者和父工程一样创建，然后点击File-&gt;Project Structure
<ol type="1">
<li>选择Facets，点击+号，选择Web，选择对应的模块</li>
<li>然后点击右侧+号添加web.xml文件即可</li>
</ol></li>
</ol>
<figure>
<img src="http://image.zephon.ml/1659248912874-aaadfe5e-1ac9-4c4e-b255-28ab2d516183.png" alt="image.png" /><figcaption>image.png</figcaption>
</figure>
<h2 id="maven图形界面操作">3. Maven图形界面操作</h2>
<ol type="1">
<li>点击右侧Maven工具</li>
<li>选择对应模块展开，点击Lifestyle或Plugins，选择要执行的操作</li>
</ol>
<figure>
<img src="http://image.zephon.ml/1659248465894-704654a0-f9d7-4b58-ad6e-91ccdf56210f.png" alt="image.png" /><figcaption>image.png</figcaption>
</figure>
<ol start="3" type="1">
<li>对于一些组合的命令，可以点击图中对应的m输入执行，并且需要注意执行范围</li>
</ol>
<figure>
<img src="http://image.zephon.ml/1659248582440-dc071829-3201-483c-b144-7b672a051016.png" alt="image.png" /><figcaption>image.png</figcaption>
</figure>
<h2 id="导入外来模块">4. 导入外来模块</h2>
<ol type="1">
<li>将对应的文件夹复制到项目中</li>
<li>点击File-&gt;Project Structure-&gt;Modules</li>
<li>点击+号，Import Module，选择对应的文件夹</li>
<li>如果是Web模块，则还需要到Project Structure的Facets中确认配置web.xml</li>
</ol>
<h1 id="maven中的生命周期插件和目标">Maven中的生命周期、插件和目标</h1>
<h2 id="三个生命周期">三个生命周期</h2>
<p>生命周期的作用：为了让构建过程自动化完成，Maven设定了三个生命周期，生命周期中每个环节对应构建过程中的一个操作 <strong>每个生命周期内的操作，执行了后面的操作，则前面的会自动执行，而不同生命周期的操作则不是这样，例如，需要clean和install就必须：mvn clean install，而如果是test和install则只用mvn install</strong></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>生命周期名称</th>
<th>作用</th>
<th>各个环节</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Clean</td>
<td>清理操作相关</td>
<td>pre-clean<br />clean<br />post-clean</td>
</tr>
<tr class="even">
<td>Site</td>
<td>生成站点相关</td>
<td>pre-site<br />site<br />post-site<br />deploy-site</td>
</tr>
<tr class="odd">
<td>Default</td>
<td>主要构建过程</td>
<td>validate<br />generate-sources<br />process-sources<br />generate-resources<br />process-resources：复制并处理资源文件至目标目录，准备打包<br />compile：编译项目main目录下的源代码<br />process-classes<br />generate-test-sources<br />process-test-sources<br />generate-test-resources<br />process-test-resources：复制并处理资源文件至目标测试目录<br />test-compile：编译测试源代码<br />process-test-classes<br />test：使用合适的单元测试框架运行测试。这些测试代码不会被打包或部署<br />prepare-package<br />package：接受编译好的代码，打包成可发布的格式，如Jar<br />pre-integration-test<br />integration-test<br />post-integration-test<br />verify<br />install：将包安装到本地仓库，以让其它项目依赖<br />deploy：将最终的包复制到远程仓库，以让其它开发人员共享或部署到服务器上运行(需借助插件)</td>
</tr>
</tbody>
</table>
<h2 id="插件和目标">插件和目标</h2>
<p>Maven的核心程序仅仅负责宏观调度，不做具体工作，具体工作都是由Maven插件完成的，例如：编译就是由maven-compile-plugin-3.1.jar插件来的执行的 一个插件可以对应多个目标，而每个目标都和生命周期中的某个环节对应。 例如：Default生命周期中有Compile和test-compile两个和编译相关的环节，对应compile和test-compile两个目标，而这两个目标都是由maven-compile-plugin-3.1.jar插件来执行</p>
<h1 id="pom的四个层次">Pom的四个层次</h1>
<ul>
<li>超级POM：</li>
</ul>
<p>Maven在构建过程中有很多默认设定，这些要素都是被Maven定义过的，定义的位置就是超级POM，所以我们自己定义的POM即使没有明确的指定父工程，其实也继承了超级POM(Super POM)。 超级POM中的定义： <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Central Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo.maven.apache.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Central Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo.maven.apache.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>&gt;</span>never<span class="tag">&lt;/<span class="name">updatePolicy</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;project.basedir&#125;/target<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;project.build.directory&#125;/classes<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>$&#123;project.artifactId&#125;-$&#123;project.version&#125;<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testOutputDirectory</span>&gt;</span>$&#123;project.build.directory&#125;/test-classes<span class="tag">&lt;/<span class="name">testOutputDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sourceDirectory</span>&gt;</span>$&#123;project.basedir&#125;/src/main/java<span class="tag">&lt;/<span class="name">sourceDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scriptSourceDirectory</span>&gt;</span>src/main/scripts<span class="tag">&lt;/<span class="name">scriptSourceDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testSourceDirectory</span>&gt;</span>$&#123;project.basedir&#125;/src/test/java<span class="tag">&lt;/<span class="name">testSourceDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;project.basedir&#125;/src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testResources</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">testResource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;project.basedir&#125;/src/test/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">testResource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">testResources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- <span class="doctag">NOTE:</span> These plugins will be removed from future versions of the super POM --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- They are kept for the moment as they are very unlikely to conflict with lifecycle mappings (MNG-4453) --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-antrun-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2-beta-5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-dependency-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-release-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">reporting</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;project.build.directory&#125;/site<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">reporting</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- <span class="doctag">NOTE:</span> The release profile will be removed from future versions of the super POM --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>release-profile<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>&gt;</span>performRelease<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>&gt;</span>true<span class="tag">&lt;/<span class="name">inherited</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-source-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-sources<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>&gt;</span>true<span class="tag">&lt;/<span class="name">inherited</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-javadoc-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-javadocs<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>&gt;</span>true<span class="tag">&lt;/<span class="name">inherited</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-deploy-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">updateReleaseInfo</span>&gt;</span>true<span class="tag">&lt;/<span class="name">updateReleaseInfo</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>父POM：自定义的父级POM，Maven和Java类一样，也是单继承的</li>
<li>当前POM：当前pom.xml中配置的POM</li>
<li>有效POM：隐含的一层，但是实际上生效的一层，继承关系中所有POM叠加到一起最终生成有效POM
<ul>
<li>查看有效POM：mvn help:effective-po # 属性的声明与引用</li>
</ul></li>
</ul>
<h2 id="help插件">1. help插件</h2>
<table>
<thead>
<tr class="header">
<th>目标</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>help:active-profiles</td>
<td>列出当前已激活的profile</td>
</tr>
<tr class="even">
<td>help:all-profiles</td>
<td>列出当前工程所有可用profile</td>
</tr>
<tr class="odd">
<td>help:describe</td>
<td>描述一个插件和/或Mojo的属性</td>
</tr>
<tr class="even">
<td>help:effective-pom</td>
<td>以XML格式展示有效的POM</td>
</tr>
<tr class="odd">
<td>help:effective-settings</td>
<td>为当前工程以XML格式展示计算得到的settings配置</td>
</tr>
<tr class="even">
<td>help:evaluate</td>
<td>计算用户在交互模式下给出的Maven表达式</td>
</tr>
<tr class="odd">
<td>help:system</td>
<td>显示平台详细信息列表，如系统属性和环境变量</td>
</tr>
</tbody>
</table>
<h2 id="使用helpevaluate查看属性值">2. 使用help:evaluate查看属性值</h2>
<ol type="1">
<li><p>定义属性 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>运行命令：mvn help:evaluate</p></li>
<li><p>运行结果： &gt; [INFO] --- maven-help-plugin:3.2.0:evaluate (default-cli) @ parent --- &gt; [INFO] No artifact parameter specified, using 'com.zephon:parent:pom:1.0-SNAPSHOT' as project. &gt; [INFO] Enter the Maven expression i.e. ${project.groupId} or 0 to exit?: &gt; ${spring.version} &gt; [INFO] &gt; 4.0.0.RELEASE</p></li>
</ol>
<h2 id="通过maven访问系统属性">3. 通过Maven访问系统属性</h2>
<p>如${sun.cpu.isalist}，则输出amd64，其它的还有如(可在Java中通过System.getProperties()获取)： <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">java.runtime.name=Java(TM) SE Runtime Environment</span><br><span class="line">sun.boot.library.path=D:\Program\Scoop\apps\oraclejdk8\current\jre\bin</span><br><span class="line">java.vm.version=<span class="number">25.201</span>-b09</span><br><span class="line">java.vm.vendor=Oracle Corporation</span><br><span class="line">java.vendor.url=http:<span class="comment">//java.oracle.com/</span></span><br><span class="line">path.separator=;</span><br><span class="line">java.vm.name=<span class="function">Java <span class="title">HotSpot</span><span class="params">(TM)</span> 64-Bit Server VM</span></span><br><span class="line"><span class="function">file.encoding.pkg</span>=sun.io</span><br><span class="line">user.country=CN</span><br><span class="line">user.script=</span><br><span class="line">sun.java.launcher=SUN_STANDARD</span><br><span class="line">sun.os.patch.level=</span><br><span class="line">java.vm.specification.name=Java Virtual Machine Specification</span><br><span class="line">user.dir=D:\Code\JavaCode\parent</span><br><span class="line">java.runtime.version=<span class="number">1.8</span><span class="number">.0_201</span>-b09</span><br><span class="line">java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment</span><br><span class="line">java.endorsed.dirs=D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\endorsed</span><br><span class="line">os.arch=amd64</span><br><span class="line">java.io.tmpdir=C:\Users\Zephon\AppData\Local\Temp\</span><br><span class="line">line.separator=</span><br><span class="line"></span><br><span class="line">java.vm.specification.vendor=Oracle Corporation</span><br><span class="line">user.variant=</span><br><span class="line">os.name=Windows <span class="number">10</span></span><br><span class="line">sun.jnu.encoding=GBK</span><br><span class="line">java.library.path=D:\Program\Scoop\apps\oraclejdk8\current\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1<span class="number">.0</span>\;C:\WINDOWS\System32\OpenSSH\;D:\Program\Scoop\apps\vscode\current\bin;D:\Program\Scoop\apps\oraclejdk8\current\bin;D:\Program\Scoop\shims;C:\Users\Zephon\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program\Scoop\apps\nuwen-mingw-without-git\<span class="number">17.1</span>\bin;C:\Users\Zephon\AppData\Local\Microsoft\WindowsApps;.</span><br><span class="line">java.specification.name=Java Platform API Specification</span><br><span class="line">java.class.version=<span class="number">52.0</span></span><br><span class="line">sun.management.compiler=HotSpot <span class="number">64</span>-Bit Tiered Compilers</span><br><span class="line">os.version=<span class="number">10.0</span></span><br><span class="line">user.home=C:\Users\Zephon</span><br><span class="line">user.timezone=</span><br><span class="line">java.awt.printerjob=sun.awt.windows.WPrinterJob</span><br><span class="line">file.encoding=UTF-<span class="number">8</span></span><br><span class="line">java.specification.version=<span class="number">1.8</span></span><br><span class="line">java.class.path=D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\charsets.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\deploy.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\access-bridge-<span class="number">64.</span>jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\cldrdata.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\dnsns.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\jaccess.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\jfxrt.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\localedata.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\nashorn.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\sunec.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\sunjce_provider.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\sunmscapi.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\sunpkcs11.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext\zipfs.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\javaws.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\jce.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\jfr.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\jfxswt.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\jsse.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\management-agent.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\plugin.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\resources.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\rt.jar;D:\Code\JavaCode\parent\target\classes;D:\Program\Scoop\apps\IntelliJ-IDEA-Ultimate\current\IDE\lib\idea_rt.jar</span><br><span class="line">user.name=Zephon</span><br><span class="line">java.vm.specification.version=<span class="number">1.8</span></span><br><span class="line">sun.java.command=com.zephon.Test</span><br><span class="line">java.home=D:\Program\Scoop\apps\oraclejdk8\current\jre</span><br><span class="line">sun.arch.data.model=<span class="number">64</span></span><br><span class="line">user.language=zh</span><br><span class="line">java.specification.vendor=Oracle Corporation</span><br><span class="line">awt.toolkit=sun.awt.windows.WToolkit</span><br><span class="line">java.vm.info=mixed mode</span><br><span class="line">java.version=<span class="number">1.8</span><span class="number">.0_201</span></span><br><span class="line">java.ext.dirs=D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\ext;C:\WINDOWS\Sun\Java\lib\ext</span><br><span class="line">sun.boot.class.path=D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\resources.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\rt.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\sunrsasign.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\jsse.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\jce.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\charsets.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\lib\jfr.jar;D:\Program\Scoop\apps\oraclejdk8\current\jre\classes</span><br><span class="line">java.vendor=Oracle Corporation</span><br><span class="line">file.separator=\</span><br><span class="line">java.vendor.url.bug=http:<span class="comment">//bugreport.sun.com/bugreport/</span></span><br><span class="line">sun.io.unicode.encoding=UnicodeLittle</span><br><span class="line">sun.cpu.endian=little</span><br><span class="line">sun.desktop=windows</span><br><span class="line">sun.cpu.isalist=amd64</span><br></pre></td></tr></table></figure></p>
<h2 id="访问系统环境变量">4. 访问系统环境变量</h2>
<p>通过<span class="math inline">\({env.系统环境变量}查看，如\)</span>{env.JAVA_HOME}</p>
<h2 id="访问project属性">5. 访问project属性</h2>
<ol type="1">
<li>使用表达式${project.xxx}可访问当前POM中的元素值</li>
<li>访问一级标签：<span class="math inline">\({project.xxx}，如\)</span>{project.artifactId}</li>
<li>访问子标签：<span class="math inline">\({project.xxx.yyy}，如\)</span>{project.parent.artifactId}</li>
<li>访问列表标签：<span class="math inline">\({project.标签名[下标]}，如\)</span>{project.build.plugins[0]}</li>
</ol>
<h2 id="访问settings全局配置">6. 访问settings全局配置</h2>
<p>${settings.标签名}可以访问settings.xml中配置的元素值，如${settings.localRepository}</p>
<h2 id="用途">7. 用途</h2>
<ul>
<li><p>在当前pom.xml文件中引用属性</p></li>
<li><p>资过滤功能：在非Maven配置文件中引用属性，由Maven在处理资源时将引用属性的表达式替换为属性值 # Pom.xml扩展</p></li>
<li><p><build>：对构建过程进行自己的定制</p>
<ul>
<li><finalName>：当前工程在构建过程中使用的最终名称</li>
<li><plugins>：构建过程中用到的插件
<ul>
<li><plugin>：具体插件，内容又包含插件的坐标和插件所需要的依赖信息
<ul>
<li><artifactId>：坐标信息</li>
<li><version>：坐标信息</li>
<li><groupId>：坐标信息</li>
<li><executions>：执行部分
<ul>
<li><execution>：
<ul>
<li><id>：唯一标识</li>
<li><phase>：关联的生命周期阶段</li>
<li><goals>：关联的生命周期目标，可配置一个生命周期对应多个目标
<ul>
<li><goal></li>
</ul></li>
<li><configuration>：配置信息</li>
</ul></li>
</ul></li>
</ul></li>
<li>注：每个插件能够做哪些配置，都是各个插件自己规定的，无法一概而论</li>
</ul></li>
<li><pluginManagement>：统一管理插件，子工程使用时可省略版本号</li>
</ul></li>
</ul>
<p>build标签的典型应用：配置JDK版本 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure> 上述配置也可通过properties配置 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br></pre></td></tr></table></figure> source：调用java编译器时传入的-source参数，即提供与指定发行版的源兼容性 target：调用Java编译器命令时传入的-target参数，即生成特定VM版本的类文件</p>
<h1 id="版本仲裁">版本仲裁</h1>
<p>假设模块同时依赖多个模块，多个模块之间又存在jar包冲突，此时就需要决定选择哪个版本：</p>
<ul>
<li>最短路径优先</li>
<li>路径相同时先声明者优先</li>
</ul>
<h1 id="profile">Profile</h1>
<p>用来配置项目的不同运行环境对应的激活配置信息，可以在两种配置文件中配置</p>
<ul>
<li><p>settings.xml</p></li>
<li><p>pom.xml</p></li>
<li><p><profile></p>
<ul>
<li><id>：唯一标识 ，命令行调用时可以通过：-D<profile id>激活对应的profile</li>
<li><activation>：激活方式
<ul>
<li><activeByDefault>：是否默认激活</li>
<li><jdk>：表示当前profile可以根据jdk版本来激活</li>
</ul></li>
<li>其它标签，当前profile被激活后要采纳的配置，可以包括：
<ul>
<li>build
<ul>
<li>defaultGoal</li>
<li>finalName</li>
<li>resources</li>
<li>testResources</li>
<li>plugins</li>
</ul></li>
<li>reporting</li>
<li>modules</li>
<li>dependencies</li>
<li>dependencyManagement</li>
<li>repositories</li>
<li>pluginRepositories</li>
<li>properties ## 激活Profile</li>
</ul></li>
</ul></li>
</ul>
<ol type="1">
<li>POM中没有在profile标签里就是默认profile，默认被激活</li>
<li>环境信息包括：JDK版本(<jdk>)、操作系统参数(<os>)、文件(<file>)、属性(<property>)等各个方面，一个profile一旦被激活，则它定义的所有配置都会覆盖原来POM中对应层次的元素</li>
<li>如果存在多个激活条件：
<ol type="1">
<li>Maven 3.2.2之前：遇到第一个满足的条件即可激活</li>
<li>Maven 3.2.2及之后，必须所有条件都满足才激活</li>
</ol></li>
<li>命令行激活：</li>
</ol>
<ul>
<li>mvn help:active-profiles：列出活动的profile</li>
<li>mvn compile -P<profile id> ## 资源属性过滤 Maven能通过profile实现各不同运行环境切换，提供一种资源属性过滤机制，通过属性替换实现不同环境使用不同的参数。 &gt; 实际开发中一般不用，实际开发中一般用Spring框架中的类似机制</li>
</ul>
<ol type="1">
<li><p>配置profile <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>devJDBCProfile<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dev.jdbc.user</span>&gt;</span>root<span class="tag">&lt;/<span class="name">dev.jdbc.user</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dev.jdbc.password</span>&gt;</span>atguigu<span class="tag">&lt;/<span class="name">dev.jdbc.password</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dev.jdbc.url</span>&gt;</span>http://localhost:3306/db_good<span class="tag">&lt;/<span class="name">dev.jdbc.url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dev.jdbc.driver</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">dev.jdbc.driver</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- 表示为这里指定的目录开启资源过滤功能 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">&lt;!-- 将资源过滤功能打开 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>创建待处理资源文件 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">dev.user</span>=<span class="string">$&#123;dev.jdbc.user&#125;</span></span><br><span class="line"><span class="meta">dev.password</span>=<span class="string">$&#123;dev.jdbc.password&#125;</span></span><br><span class="line"><span class="meta">dev.url</span>=<span class="string">$&#123;dev.jdbc.url&#125;</span></span><br><span class="line"><span class="meta">dev.driver</span>=<span class="string">$&#123;dev.jdbc.driver&#125;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>执行处理资源命令：mvn clean resources:resources -PdevJDBCProfile</p></li>
<li><p>延伸：</p></li>
</ol>
<p><resource>标签下有时会看到<includes>和<excludes>标签</p>
<ul>
<li><includes>：指定执行resource阶段是要包含到目标位置的资源</li>
<li><excludes>：指定执行resource阶段时要排除的资源 # 导入体系外jar包 命令行： <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mvn install:install-file -Dfile=[体系外jar包路径] \</span><br><span class="line">-DgroupId=[给体系外jar包强行设定坐标] \</span><br><span class="line">-DartifactId=[给体系外jar包强行设定坐标] \</span><br><span class="line">-Dversion=1 \</span><br><span class="line">-Dpackage=jar</span><br></pre></td></tr></table></figure></li>
</ul>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Zephon
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://www.zephon.eu.org/blog/2022/08/01/Maven%E4%B8%80%E8%A7%88/" title="Maven一览">http://www.zephon.eu.org/blog/2022/08/01/Maven一览/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/blog/tags/Maven/" rel="tag"><i class="fa fa-tag"></i> Maven</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2022/07/30/JavaWeb%E4%B8%80%E8%A7%88/" rel="prev" title="JavaWeb一览">
      <i class="fa fa-chevron-left"></i> JavaWeb一览
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/2022/08/03/Spring%E4%B8%80%E8%A7%88/" rel="next" title="Spring一览">
      Spring一览 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC80MDY3OS8xNzIwNA=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E4%B8%8E%E4%BE%9D%E8%B5%96"><span class="nav-number">1.</span> <span class="nav-text">构建与依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B"><span class="nav-number">1.1.</span> <span class="nav-text">构建过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="nav-number">1.2.</span> <span class="nav-text">依赖管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#maven%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6"><span class="nav-number">1.3.</span> <span class="nav-text">Maven的工作机制</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#maven%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">Maven安装与配置</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAmaven%E5%B7%A5%E7%A8%8B"><span class="nav-number">3.</span> <span class="nav-text">创建Maven工程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#maven%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87"><span class="nav-number">3.1.</span> <span class="nav-text">Maven中的坐标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%9C%AC%E5%9C%B0%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4"><span class="nav-number">3.2.</span> <span class="nav-text">创建本地工作空间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#maven%E7%BA%A6%E5%AE%9A%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">3.3.</span> <span class="nav-text">Maven约定的目录结构</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%89%A7%E8%A1%8Cmaven%E7%9A%84%E6%9E%84%E5%BB%BA"><span class="nav-number">4.</span> <span class="nav-text">执行Maven的构建</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8maven%E5%88%9B%E5%BB%BAweb%E5%B7%A5%E7%A8%8B"><span class="nav-number">5.</span> <span class="nav-text">使用Maven创建Web工程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B7%A5%E7%A8%8B%E4%BE%9D%E8%B5%96"><span class="nav-number">6.</span> <span class="nav-text">自定义工程依赖</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E7%9A%84%E8%8C%83%E5%9B%B4%E4%BC%A0%E9%80%92%E4%B8%8E%E6%8E%92%E9%99%A4"><span class="nav-number">7.</span> <span class="nav-text">依赖的范围、传递与排除</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#compile%E5%92%8Ctest%E5%AF%B9%E6%AF%94"><span class="nav-number">7.1.</span> <span class="nav-text">compile和test对比</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#compile%E5%92%8Cprovided%E5%AF%B9%E6%AF%94"><span class="nav-number">7.2.</span> <span class="nav-text">compile和provided对比</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">7.3.</span> <span class="nav-text">小结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E9%80%89%E4%BE%9D%E8%B5%96"><span class="nav-number">7.4.</span> <span class="nav-text">可选依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E7%9A%84%E4%BC%A0%E9%80%92%E6%80%A7"><span class="nav-number">7.5.</span> <span class="nav-text">依赖的传递性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E7%9A%84%E6%8E%92%E9%99%A4"><span class="nav-number">7.6.</span> <span class="nav-text">依赖的排除</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="nav-number">8.</span> <span class="nav-text">依赖的继承</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C"><span class="nav-number">8.1.</span> <span class="nav-text">操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7%E4%BC%98%E5%8C%96"><span class="nav-number">8.2.</span> <span class="nav-text">配置自定义属性优化</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E8%81%9A%E5%90%88"><span class="nav-number">9.</span> <span class="nav-text">模块聚合</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAweb%E5%AD%90%E5%B7%A5%E7%A8%8B"><span class="nav-number">9.1.</span> <span class="nav-text">2. 创建Web子工程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#maven%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E6%93%8D%E4%BD%9C"><span class="nav-number">9.2.</span> <span class="nav-text">3. Maven图形界面操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E5%A4%96%E6%9D%A5%E6%A8%A1%E5%9D%97"><span class="nav-number">9.3.</span> <span class="nav-text">4. 导入外来模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#maven%E4%B8%AD%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8F%92%E4%BB%B6%E5%92%8C%E7%9B%AE%E6%A0%87"><span class="nav-number">10.</span> <span class="nav-text">Maven中的生命周期、插件和目标</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">10.1.</span> <span class="nav-text">三个生命周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E4%BB%B6%E5%92%8C%E7%9B%AE%E6%A0%87"><span class="nav-number">10.2.</span> <span class="nav-text">插件和目标</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#pom%E7%9A%84%E5%9B%9B%E4%B8%AA%E5%B1%82%E6%AC%A1"><span class="nav-number">11.</span> <span class="nav-text">Pom的四个层次</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#help%E6%8F%92%E4%BB%B6"><span class="nav-number">11.1.</span> <span class="nav-text">1. help插件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8helpevaluate%E6%9F%A5%E7%9C%8B%E5%B1%9E%E6%80%A7%E5%80%BC"><span class="nav-number">11.2.</span> <span class="nav-text">2. 使用help:evaluate查看属性值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E8%BF%87maven%E8%AE%BF%E9%97%AE%E7%B3%BB%E7%BB%9F%E5%B1%9E%E6%80%A7"><span class="nav-number">11.3.</span> <span class="nav-text">3. 通过Maven访问系统属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">11.4.</span> <span class="nav-text">4. 访问系统环境变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BF%E9%97%AEproject%E5%B1%9E%E6%80%A7"><span class="nav-number">11.5.</span> <span class="nav-text">5. 访问project属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BF%E9%97%AEsettings%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE"><span class="nav-number">11.6.</span> <span class="nav-text">6. 访问settings全局配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E9%80%94"><span class="nav-number">11.7.</span> <span class="nav-text">7. 用途</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E4%BB%B2%E8%A3%81"><span class="nav-number">12.</span> <span class="nav-text">版本仲裁</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#profile"><span class="nav-number">13.</span> <span class="nav-text">Profile</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Zephon"
      src="/blog/images/avatar1.gif">
  <p class="site-author-name" itemprop="name">Zephon</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives">
          <span class="site-state-item-count">217</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Zephon-H" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Zephon-H" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/blog/qq1528498238@gmail.com" title="E-Mail → qq1528498238@gmail.com"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zephon</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">1.3m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">20:18</span>
</div>

<br />
<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("04/21/2019 15:54:40");//此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);
</script>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  




  
<script src="/blog/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
